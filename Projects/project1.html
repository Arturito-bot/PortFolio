<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projet - Convertisseur MPro3</title>
    
    <link rel="stylesheet" href="styles1.css">
    
    <link rel="stylesheet" href="project-identities.css">
</head>
<body>


    <nav>
        <ul class="nav-list">
            <li><a href="../index.html#projects">Retour à l'accueil</a></li>
        </ul>
    </nav>
    
   
    

    <section class="project-hero-youtube">
        <div class="hero-content">
            <h1>MPro3 : Convertisseur Youtube MP3/MP4</h1>
            <p class="hero-subtitle">
                Une application de bureau Python développée en collaboration avec Côme NZUZI MANIEMA. Elle offre une interface graphique simple et moderne pour télécharger des vidéos YouTube en format MP3 (audio) ou MP4 (vidéo 720p).
            </p>
            <p class="hero-credits">
                "Auteurs : Côme NZUZI MANIEMA et Arthur dit 'Mignon Garçon' WESTPHAL, pour la culture."
            </p>
        </div>
    </section>
    
    <section class="video-section" style="display: flex; flex-direction: column; align-items: center; margin: 40px 0;">
        <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">Démo du projet</h2>
        <video id="convertisseurVideo" muted controls loop preload="none" style="width: 80%; max-width: 700px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.3);">
            <source src="../Video/demo_Mpro3.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la lecture vidéo.
        </video>
    </section>


    <section class="tech-stack tech-youtube" style="padding: 30px 20px; background-color: #f9f9f9;">
        <h2 style="text-align: center; width: 100%; margin-bottom: 20px;">Technologies Utilisées</h2>
        <div class="tech-pills">
            <span class="tech-main">Python</span>
            <span>Tkinter</span>
            <span>ttkbootstrap</span>
            <span>Threading</span>
            <span class="tech-main">yt-dlp</span>
            <span class="tech-main">FFmpeg</span>
            <span>MoviePy</span>
        </div>
    </section>

    <section class="features features-youtube" style="padding: 40px 20px;">
        <h2 style="text-align: center; width: 100%; margin-bottom: 30px;">Fonctionnalités Clés</h2>
        
        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; max-width: 1000px; margin: 0 auto;">

            <div class="feature-card" style="flex: 1; min-width: 300px;">
                <h3>Téléchargement Efficace</h3>
                <p>Utilise <strong>yt-dlp</strong> (successeur de youtube-dl) pour extraire les flux. Le MP3 est obtenu via un post-processeur FFmpeg et le MP4 est mergé en 720p maximum pour un équilibre poids/qualité.</p>
            </div>

            <div class="feature-card" style="flex: 1; min-width: 300px;">
                <h3>Interface Moderne</h3>
                <p>Interface construite avec Tkinter mais modernisée grâce à <strong>ttkbootstrap</strong> (thème "darkly"). Inclut une barre de progression en temps réel et des labels de statut clairs pour l'utilisateur.</p>
            </div>

            <div class="feature-card" style="flex: 1; min-width: 300px;">
                <h3>Expérience Utilisateur (UX)</h3>
                <p>Récupère le titre original de la vidéo (via <strong>get_video_title</strong>) dès que l'utilisateur clique hors du champ URL. Permet un titre personnalisé et nettoie les noms de fichiers (`sanitize_filename`).</p>
            </div>

        </div>
    </section>
    
    <section class="project-details details-youtube" style="padding: 40px 20px; background-color: #f9f9f9;">
        
        <h2 style="text-align: center; width: 100%; margin-bottom: 30px;">Architecture et Défis Techniques</h2>
        
        <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; max-width: 1200px; margin: 0 auto;">

            <div class="feature-card" style="flex: 1; min-width: 300px;">
                <h3>Défi 1 : Interface "Gelée" (Freeze)</h3>
                <p><strong>Problème :</strong> Le téléchargement et la conversion sont des opérations I/O longues. Lancées sur le thread principal, elles "gèlent" l'interface Tkinter, la rendant non réactive.</p>
                <p><strong>Solution :</strong> Architecture Multi-Thread. Le téléchargement (`run_download`) est lancé dans un <strong>thread "worker"</strong> (`threading.Thread`) séparé, laissant le thread principal 100% disponible pour la GUI.</p>
            </div>

            <div class="feature-card" style="flex: 1; min-width: 300px;">
                <h3>Défi 2 : Mises à Jour "Thread-Safe"</h3>
                <p><strong>Problème :</strong> Mettre à jour un widget Tkinter (comme la barre de progression) depuis un thread secondaire cause des bugs et des crashs (non "thread-safe").</p>
                <p><strong>Solution :</strong> Utilisation de <strong>`root.after(0, ...)`</strong>. Le "worker thread" n'update pas la GUI directement ; il poste un message dans la file d'attente de Tkinter, qui l'exécute de manière sécurisée sur le thread principal.</p>
            </div>

            <div class="feature-card" style="flex: 1; min-width: 300px;">
                <h3>Défi 3 : "Bruit" des Bibliothèques</h3>
                <p><strong>Problème :</strong> `yt-dlp` et `moviepy`/`ffmpeg` sont très "bavards" et impriment des tonnes d'informations dans la console, ce qui n'est pas propre pour une application finale.</p>
                <p><strong>Solution :</strong> Redirection de la sortie standard. `stdout` et `stderr` sont redirigés vers `StringIO()` (un "puits" en mémoire) pendant les appels critiques pour une exécution totalement silencieuse.</p>
            </div>

        </div>
    </section>

    <footer>
        <p>&copy; 2025 Arthur Westphal. Tous droits réservés.</p>
    </footer>

    <script>
        const video = document.getElementById('convertisseurVideo');

        if (video) { 
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        video.play();
                    } else {
                        video.pause();
                    }
                });
            }, { threshold: 0.5 }); 

            observer.observe(video);
        }
    </script>
</body>
</html>